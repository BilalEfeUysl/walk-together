{% extends 'base.html' %} {% block content %}

<div class="flex items-center justify-center py-12 px-4 sm:px-6 font-display">
  <div
    class="w-full max-w-2xl bg-white dark:bg-[#1e2621] rounded-3xl shadow-xl border border-slate-100 dark:border-[#2a362f] overflow-hidden"
  >
    <div
      class="px-8 py-8 border-b border-slate-100 dark:border-[#2a362f] bg-slate-50/50 dark:bg-[#151d19] text-center"
    >
      <div
        class="inline-flex items-center justify-center size-16 rounded-full bg-purple-100 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 mb-4 shadow-sm"
      >
        <span class="material-symbols-outlined text-3xl">badge</span>
      </div>
      <h2
        class="text-3xl font-black text-slate-900 dark:text-white tracking-tight"
      >
        Profili Düzenle
      </h2>
      <p class="text-slate-500 dark:text-slate-400 font-medium mt-2">
        Kişisel bilgilerini ve ilgi alanlarını güncelle.
      </p>
    </div>

    <div class="p-8 md:p-10">
      <form method="POST" action="/edit_profile" enctype="multipart/form-data">
        <div class="flex flex-col items-center mb-8">
          <div class="relative group">
            <div
              class="size-32 rounded-full p-1 border-2 border-dashed border-slate-300 dark:border-slate-600 group-hover:border-primary transition-colors"
            >
              <img
                src="{{ user[7] }}"
                class="w-full h-full rounded-full object-cover shadow-md"
              />
            </div>

            <label
              class="absolute bottom-0 right-0 bg-white dark:bg-slate-700 text-slate-700 dark:text-white p-2.5 rounded-full shadow-lg border border-slate-100 dark:border-slate-600 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-600 transition-all active:scale-95 group-hover:scale-110"
            >
              <span class="material-symbols-outlined text-[20px] block"
                >photo_camera</span
              >
              <input type="file" name="profile_pic" class="hidden" />
            </label>
          </div>
          <p class="text-xs text-slate-400 mt-3 font-medium">
            Değişikliği görmek için kaydetmeyi unutma.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
          <div>
            <label
              class="block text-sm font-bold text-slate-900 dark:text-white mb-2"
              >Kullanıcı Adı</label
            >
            <div class="relative">
              <span
                class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"
                >alternate_email</span
              >
              <input
                type="text"
                value="{{ user[1] }}"
                disabled
                class="w-full pl-12 pr-4 py-3.5 rounded-xl border border-slate-200 dark:border-[#2a362f] bg-slate-100 dark:bg-slate-800 text-slate-500 font-bold cursor-not-allowed"
              />
            </div>
          </div>
          <div>
            <label
              class="block text-sm font-bold text-slate-900 dark:text-white mb-2"
              >Yaş</label
            >
            <input
              type="number"
              name="age"
              value="{{ user[5] }}"
              class="w-full px-4 py-3.5 rounded-xl border border-slate-200 dark:border-[#2a362f] bg-slate-50 dark:bg-[#151d19] text-slate-900 dark:text-white font-bold placeholder-slate-400 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all"
            />
          </div>
        </div>

        <div class="mb-8">
          <label
            class="block text-sm font-bold text-slate-900 dark:text-white mb-2"
            >Hakkında</label
          >
          <textarea
            name="bio"
            rows="4"
            class="w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-[#2a362f] bg-slate-50 dark:bg-[#151d19] text-slate-900 dark:text-white placeholder-slate-400 font-medium focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all resize-none"
            placeholder="Kendinden bahset..."
          >
{{ user[6] }}</textarea
          >
        </div>

        <div class="mb-10">
          <label
            class="block text-sm font-bold text-slate-900 dark:text-white mb-3 flex items-center gap-2"
          >
            <span class="material-symbols-outlined text-primary"
              >interests</span
            >
            İlgi Alanların
          </label>

          <div class="flex flex-wrap gap-3">
            {% for hobby in hobbies %}
            <label class="cursor-pointer relative">
              <input
                type="checkbox"
                name="hobbies"
                value="{{ hobby[0] }}"
                class="peer sr-only"
                {%
                if
                hobby[0]
                in
                my_hobby_ids
                %}checked{%
                endif
                %}
              />

              <div
                class="px-4 py-2 rounded-xl border-2 border-slate-200 dark:border-slate-700 bg-white dark:bg-[#151d19] text-slate-600 dark:text-slate-300 font-bold text-sm transition-all peer-checked:border-primary peer-checked:bg-green-50 dark:peer-checked:bg-primary/20 peer-checked:text-primary hover:border-primary/50"
              >
                {{ hobby[1] }}
              </div>
            </label>
            {% endfor %}
          </div>
        </div>

        <div
          class="flex flex-col sm:flex-row gap-4 pt-4 border-t border-slate-100 dark:border-[#2a362f]"
        >
          <button
            type="submit"
            class="flex-1 py-4 bg-primary hover:bg-primary-dark text-white rounded-xl font-bold text-lg shadow-lg shadow-primary/25 hover:shadow-primary/40 active:scale-95 transition-all flex items-center justify-center gap-2"
          >
            <span class="material-symbols-outlined">save</span>
            Değişiklikleri Kaydet
          </button>

          <a
            href="{{ url_for('main.profile', user_id=user[0]) }}"
            class="flex-1 py-4 bg-white dark:bg-transparent border-2 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:border-slate-300 dark:hover:border-slate-500 rounded-xl font-bold text-lg transition-all flex items-center justify-center gap-2 hover:bg-slate-50 dark:hover:bg-slate-800"
          >
            İptal
          </a>
        </div>
      </form>
    </div>
  </div>
</div>

{% endblock %}
